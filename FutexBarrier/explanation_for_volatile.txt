“.к. процессор не оптимизирует volatile переменные и сам использует дл€ нее lock и unlock барьеры при записи/чтении, то можно максимально ослабить наши барьеры в futex::lock/unlock, т.е. сделать их relaxed.
–азницы во времени работы практически нет(при использовани€ relaxed по сравнению с sequence order- дефолтными).